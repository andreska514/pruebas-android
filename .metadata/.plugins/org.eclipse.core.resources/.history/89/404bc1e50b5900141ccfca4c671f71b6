package com.andres.sun4all;

import android.app.Activity;
import android.content.Intent;
import android.graphics.*;
import android.os.Bundle;
import android.text.Editable;
import android.text.Spannable;
import android.text.style.StyleSpan;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.widget.*;

public class Segunda extends Activity {
	
	static public int contador2 = 0;
	
	static TextView txtCont;
	Button btnRmv2, btnInv2, btnFin2, btnRes2;
	ToggleButton btnAdd2;
	LinearLayout layout2;
	
	String cadena2 = "Move image/Add Sunspot";
	Editable strMove2 = Editable.Factory.getInstance().newEditable(cadena2);
	Editable strAdd2 = Editable.Factory.getInstance().newEditable(cadena2);

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		//setContentView(R.layout.activity_segunda);
		setContentView(new Panel(this));
		
		txtCont = (TextView) findViewById(R.id.txtCont);
		txtCont.setText(String.valueOf(contador2));
		
		//Botones
		btnAdd2 =(ToggleButton)findViewById(R.id.btnAdd);
		btnRmv2 =(Button)findViewById(R.id.btnRmv);
		btnFin2 =(Button)findViewById(R.id.btnFin);
		btnInv2 =(Button)findViewById(R.id.btnInv);
		btnRes2 =(Button)findViewById(R.id.btnRes);
		
		btnAdd2.setOnClickListener(clickBoton);
		btnRmv2.setOnClickListener(clickBoton);
		btnFin2.setOnClickListener(clickBoton);
		btnInv2.setOnClickListener(clickBoton);
		btnRes2.setOnClickListener(clickBoton);
		
		layout2 = (LinearLayout)findViewById(R.id.layout1);
		layout2.setBackgroundColor(Color.WHITE);
		
		//fuente boton add/move
		strMove2.setSpan(new StyleSpan(android.graphics.Typeface.BOLD),0,10,Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
		strAdd2.setSpan(new StyleSpan(android.graphics.Typeface.BOLD),11,22,Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
		btnAdd2.setText(strMove2);
		
	}
	View.OnClickListener clickBoton = (new View.OnClickListener() {
		@Override
		public void onClick(View v) {
			switch(v.getId()){
			case R.id.btnAdd:
				//comprueba si esta en modo mover o en modo a√±adir
				if(btnAdd2.isChecked())//add sunspot
				{
					btnAdd2.setText(strAdd2);
					
				}
				else//move
				{
					btnAdd2.setText(strMove2);
					
				}
				
				//activa el modo pintar
				//dibuja un sunspot donde tocas(modo escribir)
				//guardar coordenada de cada punto
				break;
			case R.id.btnRmv:
				//desactiva modo pintar
				//borra un sunspot donde tocas
				
				//prueba contador(BORRAR) ----------------------------
				contador2++;
				txtCont.setText(String.valueOf(contador2));
				
				
				break;
			case R.id.btnFin://envia coordenadas de los sunspot y cambia de imagen
				//borrar
				/*Intent i = new Intent(Main.this, Segunda.class);
				startActivity(i);*/
				//envia
				//descarga nueva imagen
				//borra imagen anterior del dispositivo
				break;
			case R.id.btnInv://coger el negativo de esa imagen(finish the task)
				break;
			case R.id.btnRes://reinicia la misma imagen sin sunspots(start over)
				//Imagen.logMatrix(Imagen.matrix, Imagen.imageView);
				//Imagen.imprimeCoordenadas();
				Imagen.enviaCoordenadas();
				break;
			}
		}
	});
	
	
}