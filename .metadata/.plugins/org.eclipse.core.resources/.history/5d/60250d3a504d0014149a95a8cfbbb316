package com.andres.sun4all;

import java.io.IOException;
import android.util.Log;
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.widget.Button;
import android.widget.ImageView;
import android.view.MotionEvent;
import android.view.View;
import android.widget.TextView;
import android.view.View.OnClickListener;
public class Main extends Activity {

	private int contador = 0;
	
	//imagen
	Imagen imagen;
	ImageView img;
	TextView txtCont;
	Button btnAdd,btnRmv;
	
	
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		
		//imagen
		img = (ImageView) findViewById(R.id.ImgFoto);
		img.setOnTouchListener(handlerMover);
		imagen = new Imagen(img);
		
		txtCont = (TextView) findViewById(R.id.txtCont);
		txtCont.setText(String.valueOf(contador));
		
		btnAdd =(Button)findViewById(R.id.btnAdd);
		btnAdd.setOnClickListener(clickBoton);
		
		btnRmv =(Button)findViewById(R.id.btnRmv);
		btnRmv.setOnClickListener(clickBoton);
	}
	
	View.OnClickListener clickBoton = (new View.OnClickListener() {
		
		@Override
		public void onClick(View v) {
			switch(v.getId()){
			case R.id.btnAdd:
				//dibuja un sunspot donde tocas(modo a√±adir)
				
				
				//prueba new activity
				Intent i = new Intent(Main.this, Segunda.class);
				startActivity(i);
				break;
			case R.id.btnRmv:
				//borra un sunspot donde tocas(modo borrarpot)
				
				//prueba contador
				contador++;
				txtCont.setText(String.valueOf(contador));
				break;
			case R.id.btnFin:
				//cambiar de imagen
				break;
			case R.id.btnInv:
				//coger el negativo de esa imagen
				break;
			case R.id.btnRes:
				//borra los sunspots marcados, reinicia la imagen sin sunspots
				break;
			}
		}
	});
		
	
	
	View.OnTouchListener handlerMover = new View.OnTouchListener() {
		
		@Override
		public boolean onTouch(View v, MotionEvent event) {
			
			return imagen.touch(v, event);
			
		}//fin onTouch
	};//fin ontouchListener
	

	

	
}
